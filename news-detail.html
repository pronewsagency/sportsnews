<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تفاصيل الخبر - برو نيوز</title>
    <meta name="description" content="اقرأ تفاصيل الخبر كاملاً على برو نيوز.">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5085557676468490"
     crossorigin="anonymous"></script>
    
    <style>
        /* Import Cairo font from Google Fonts */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
        body {
            font-family: 'Cairo', sans-serif; /* Apply Cairo font */
            margin: 0;
            background-color: #000; /* Dark background */
            color: #f0f0f0;
            line-height: 1.8;
            direction: rtl; /* Right-to-left for Arabic */
            text-align: right; /* Adjust text alignment */
            padding-bottom: 70px; /* Space for footer */
        }
        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #111;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
        }
        .news-detail-header {
            position: relative;
        }
        /* New wrapper for image to ensure rounding */
        .image-wrapper {
            width: 100%;
            border-radius: 10px; /* تطبيق تقويس الزوايا هنا */
            overflow: hidden; /* قص المحتوى الزائد */
            background-color: #000; /* خلفية سوداء للمساحات الفارغة إن وجدت */
            margin-bottom: 20px; /* مسافة أسفل الصورة */
        }
        .news-detail-header img {
            width: 100%; /* لضمان أن الصورة تملأ عرض الحاوية */
            height: auto; /* لضمان الحفاظ على نسبة الأبعاد */
            max-width: 100%; /* لضمان عدم تجاوز العرض */
            max-height: 350px; /* يمكن تحديد أقصى ارتفاع هنا إذا لزم الأمر */
            object-fit: contain; /* إظهار الصورة بكامل أبعادها */
            display: block;
        }
        .news-detail-content {
            padding: 25px;
        }
        .news-detail-content h1 {
            font-size: 1.8rem; /* Reduced title size */
            margin-bottom: 15px;
            color: #ffffff;
            text-align: right;
        }
        .news-detail-content .detail-date {
            font-size: 1.1rem;
            color: #aaa;
            margin-bottom: 25px;
            text-align: right;
        }
        .news-detail-content .detail-text {
            font-size: 1.2rem;
            color: #e0e0e0;
            text-align: justify;
        }
        .action-buttons { /* New container for buttons */
            display: flex;
            flex-direction: column; /* Stack buttons vertically */
            gap: 15px; /* Space between buttons */
            margin: 30px auto 0;
            text-align: center;
        }
        .action-buttons a {
            font-family: 'Cairo', sans-serif;
            background-color: #00aaff;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.1rem;
            text-decoration: none;
            transition: background-color 0.3s ease;
            display: flex; /* For icon and text alignment */
            align-items: center;
            justify-content: center;
            width: fit-content; /* Adjust width to content */
            margin: 0 auto; /* Center the buttons */
        }
        .action-buttons a:hover {
            background-color: #0088cc;
        }
        .action-buttons a.telegram-button { /* Specific style for Telegram button */
            background-color: #0088cc; /* Telegram blue */
            padding: 8px 18px; /* Reduced padding for smaller size */
            font-size: 0.95rem; /* Reduced font size for smaller size */
        }
        .action-buttons a.telegram-button:hover {
            background-color: #0077b3; /* Darker Telegram blue on hover */
        }
        .action-buttons a .material-icons {
            margin-left: 8px; /* Space between icon and text */
            font-size: 1.3em;
        }
        /* Adjusted for Telegram button */
        .action-buttons a.telegram-button .material-icons {
            margin-left: 6px; /* Slightly less margin for smaller button */
            font-size: 1.1em; /* Smaller icon for smaller button */
        }
        
        /* New styles for suggested news */
        .suggested-news-container {
            margin-top: 40px; /* Space above suggested news */
            padding-top: 20px;
            border-top: 1px solid #333; /* Separator line */
            text-align: center;
        }
        .suggested-news-container h2 {
            font-size: 1.5rem;
            color: #ffffff;
            margin-bottom: 25px;
        }
        .suggested-news-links {
            display: flex;
            flex-wrap: wrap; /* Allow cards to wrap to the next line */
            justify-content: center; /* Center cards when there's space */
            gap: 20px; /* Space between cards */
            margin: 0 auto;
            max-width: 100%; /* Ensure it fits container */
        }
        .suggested-news-card {
            background-color: #222;
            border-radius: 10px;
            overflow: hidden; /* Ensures image corners are rounded */
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            text-decoration: none;
            color: #f0f0f0;
            width: calc(50% - 10px); /* Two cards per row, accounting for gap */
            min-width: 280px; /* Minimum width for small screens */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex; /* Flex container for content inside card */
            flex-direction: column; /* Stack image and text */
            text-align: right; /* Align text inside card */
        }

        @media (max-width: 600px) {
            .suggested-news-card {
                width: 100%; /* Full width on smaller screens */
                min-width: unset; /* Remove min-width constraint */
            }
        }

        .suggested-news-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.6);
        }
        .suggested-news-card img {
            width: 100%;
            height: 150px; /* Fixed height for consistent card size */
            object-fit: cover; /* Cover the area, cropping if necessary */
            display: block;
        }
        .suggested-news-card .card-content {
            padding: 15px;
            flex-grow: 1; /* Allows content to take available space */
            display: flex;
            flex-direction: column;
            justify-content: space-between; /* Push title to top, icon/direction to bottom */
        }
        .suggested-news-card .card-content h3 {
            font-size: 1.1rem;
            margin-top: 0;
            margin-bottom: 10px;
            color: #ffffff;
            line-height: 1.4;
            display: -webkit-box;
            -webkit-line-clamp: 2; /* Limit title to 2 lines */
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        .suggested-news-card .card-direction {
            display: flex;
            align-items: center;
            justify-content: flex-end; /* Align icon to the left for RTL, text to right */
            font-size: 0.95rem;
            color: #00aaff;
            margin-top: 10px; /* Space above direction text */
        }
        .suggested-news-card .card-direction .material-icons {
            font-size: 1.1em;
            margin-right: 5px; /* Space between icon and text */
            margin-left: 0; /* Remove left margin if any from global styles */
        }


        /* Footer Navigation - same as index.html for consistency */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: #111;
            display: flex;
            justify-content: space-around;
            align-items: center;
            height: 60px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.5);
            z-index: 1500;
        }
        .footer-nav button {
            font-family: 'Cairo', sans-serif;
            flex: 1;
            background: none;
            border: none;
            color: #f0f0f0;
            font-size: 14px;
            cursor: pointer;
            padding: 5px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 3px;
            transition: color 0.3s ease;
        }
        .footer-nav button:hover {
            color: #f0f0f0;
        }
        .footer-nav button .material-icons {
            font-size: 20px;
            display: block;
            color: #f0f0f0;
        }

        /* Site Info Footer - same as index.html for consistency */
        .site-info-footer {
            background-color: #0a0a0a;
            color: #ccc;
            text-align: center;
            padding: 15px 0;
            font-size: 14px;
            margin-top: 30px;
        }
        .site-info-footer a {
            color: #f0f0f0;
            text-decoration: none;
            margin: 0 10px;
            transition: color 0.3s ease;
        }
        .site-info-footer a:hover {
            color: #00aaff;
        }

        /* AdSense Container Styling - Similar to index.html */
        .ad-container {
            background-color: #1a1a1a; /* Darker background for ads */
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
            margin-top: 20px; /* Space above ads */
            margin-bottom: 20px; /* Space below ads */
            min-height: 100px; /* Give it some height for visibility */
            display: flex; /* To center placeholder text/images */
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            color: #888;
            border: 1px dashed #444; /* This border should definitely make it visible */
            flex-direction: column;
        }
        .ad-container ins {
            display: block !important;
            min-height: 100px; /* Placeholder for AdSense actual size */
            background-color: #333;
            margin: 0 auto;
            width: 100%;
            max-width: 728px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="news-detail-header">
            <div class="image-wrapper"> <img id="detailNewsImage" src="" alt="صورة الخبر">
            </div>
        </div>
        <div class="news-detail-content">
            <h1 id="detailNewsTitle"></h1>
            <p class="detail-date" id="detailNewsDate"></p>
            <div id="newsContentWrapper">
  
            </div>
        </div>
        <div class="action-buttons">
            <a href="index.html">العودة إلى الرئيسية</a>
            <a href="https://t.me/PROTVPLUSS" target="_blank" class="telegram-button">
                قناتنا على التلغرام <i class="material-icons">send</i>
            </a>
        </div>

        <div class="suggested-news-container">
            <div class="suggested-news-links" id="suggestedNewsLinks">
                </div>
        </div>
        </div>

    <div class="footer-nav" id="footerNav">
        </div>

    <footer class="site-info-footer">
        &copy; 2025 برو نيوز. جميع الحقوق محفوظة.
        <div>
            <a href="about.html">من نحن</a> |
            <a href="contact.html">اتصل بنا</a> |
            <a href="privacy-policy.html">سياسة الخصوصية</a>
        </div>
    </footer>

    <script>
        // Start of self-contained script content (DO NOT MODIFY THESE COMMENTS)
        // Replicate newsData here so news-detail.html can function independently
        // **IMPORTANT: Only one news item is kept as requested. Suggested news will appear when more items are added.**
        let newsData = [
            { id: 1, title: 'مشكلة جديدة تواجه تشافي الونسو في ريال مدريد!', image: 'https://a.top4top.io/p_34852z4371.jpg', content: 'مع انطلاق موسم جديد لريال مدريد، يدور الصراع داخل غرفة تبديل الملابس حول مستقبل ثلاثة لاعبين عائدين من الإعارات، وهم: رينير، ماريو مارتن، وألفارو رودريغيز. بعد توقيع اللاعب الواعد كاريراس، بات الفريق الأول مكتملًا بـ 25 لاعبًا، الأمر الذي يضع المدرب تشابي ألونسو أمام تحدٍ كبير لاختيار التشكيلة النهائية.\n\nماريو مارتن: أداء متميز وسط تحديات الانضباط\nماريو، لاعب الوسط الذي أُعير الموسم الماضي إلى بلد الوليد، أثبت جدارته بمشاركته في 30 مباراة بالدوري، منها 20 كأساسي، بمجموع 1753 دقيقة. لكنه عانى من مشكلات انضباطية كلفته ثلاث بطاقات حمراء وثماني بطاقات صفراء، ليصبح الأكثر طردًا في الليغا لموسم 2024-2025. رغم افتقاد الفريق الأول لوسط دفاعي طبيعي، لم يمنحه تشابي فرصة الظهور في كأس العالم للأندية، مما يشير بقوة إلى رحيله المحتمل سواء بالإعارة أو البيع.\n\nألفارو رودريغيز: الطموح يصطدم بالواقع\nالمهاجم الشاب من أوروغواي، الذي ينتمي إلى منتخب تحت 20 عامًا، صرح علنًا برغبته في مغادرة ريال مدريد هذا الصيف لمتابعة تطوره المهني. في 22 مباراة مع خيتافي، لعب 845 دقيقة فقط، ولم يستطع فرض نفسه كأساسي إلا في سبع مباريات، كما تعرض للطرد مرة في كأس الملك. مع وجود تفوق واضح لجونزالو، تبدو فرصته ضئيلة في خطة تشابي، مما يجعل العودة إلى كاستيا بمثابة خطوة إلى الوراء لمسيرته.\n\nرينير: حلم برازيلي ينتظر نهايته\nالصفقة التي كلفت ريال مدريد 30 مليون يورو لم تر النور في البرنابيو قط. المهاجم البرازيلي قضى أعوامه الأربعة ونصف الماضية متنقلاً بين إعارات متتالية مع دورتموند، جيرونا، فروزينوني، وغرناطة. خلال هذه الفترات، لم يتمكن من تحقيق الأهداف المتوقعة، حيث شارك في 105 مباريات فقط، سجل خلالها 7 أهداف، وبقي بعيدًا عن التوهج الذي كان منتظراً منه. مع انتهاء عقده بعد عام واحد، يبدو أن رحيله بات أمراً محتوماً.\n\nالقرار بيد تشابي: إعارة أم بيع؟\nمع قرب إغلاق سوق الانتقالات وامتلاء قائمة الفريق، يتوجب على تشابي ألونسو اتخاذ قرار سريع بشأن هؤلاء اللاعبين. سواء كانت الإعارة لموسم جديد أو بيع نهائي، فإن مستقبل هؤلاء الثلاثة سيكون مفتاحًا جديدًا لريال مدريد في سعيه نحو النجاح المستدام.', date: '2025-07-18', order: 10, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' },
            { id: 2, title: 'تحقيقات في إسبانيا بسبب مبابي!', image: 'https://d.top4top.io/p_34856p6zx4.jpg', content: 'تشهد إسبانيا تحقيقات إدارية في واقعة أثارت الكثير من الجدل، بعد تداول معلومات تشير إلى حصول خمسة من رجال الأمن على مكافآت مالية يُعتقد أنها جاءت من تبرعات قُدمت بعد تتويج فرنسا بكأس العالم 2018، وهي التبرعات التي نُسبت سابقًا للنجم كيليان مبابي.\n\nووفقًا للتقارير المتداولة، فإن رجال الشرطة المعنيين كانوا يعملون في أحد المطارات الإسبانية، وتلقوا مبالغ مالية عبر مؤسسة خيرية، دون أن تكون هناك صلة واضحة بين مهامهم اليومية والمناسبة الرياضية التي ارتبطت بها تلك التبرعات.\n\n وتكمن المفاجأة في أن التبرع المشار إليه كان قد تم توجيهه لدعم مبادرات خيرية وإنسانية، في خطوة حظيت بإشادة واسعة حينها، خاصة أن مبابي اختار التنازل عن مكافآته بالكامل لصالح الأعمال الإنسانية.\n\nالجهات المختصة باشرت تحقيقًا أوليًا لفهم ملابسات التحويلات المالية، وأكدت أن الخطوة تهدف فقط إلى ضمان الشفافية ومعرفة ما إذا كانت هناك أخطاء إدارية أو سوء توزيع غير مقصود.\n\n وفي الوقت الذي لم تُوجه أي اتهامات رسمية، يبقى السؤال مطروحًا:\nهل تمت إدارة التبرعات كما كان مخططًا لها؟\nوهل هناك ثغرات في آلية التوزيع داخل المؤسسات الوسيطة؟\n\nمن جانبه، لم يصدر أي تعليق رسمي من كيليان مبابي أو من المؤسسة التي تولت إدارة التبرعات، في انتظار ما ستُسفر عنه التحقيقات خلال الفترة المقبلة.', date: '2025-07-18', order: 20, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' },
            { id: 3, title: 'هانسي فليك يبدأ أولى خطواته الحاسمة في برشلونة!', image: 'https://b.top4top.io/p_3485iaplb2.jpg', content: 'يستعد المدرب الألماني هانسي فليك لإجراء أول عملية فرز فنية داخل نادي برشلونة، ضمن استعدادات الفريق للموسم الجديد، حيث يهدف إلى تقييم جميع اللاعبين قبل اتخاذ قرارات نهائية بشأن مستقبلهم.\n\n ومن المنتظر أن يقوم فليك بتحديد قائمة أولية تضم اللاعبين الذين سيعتمد عليهم في مشروعه الفني مع الفريق، مقابل أسماء مرشحة للمغادرة سواء على سبيل الإعارة أو البيع النهائي.\n\n المدرب الجديد، المعروف بدقته وشخصيته الحاسمة، بدأ بالفعل دراسة ملفات اللاعبين من خلال المباريات السابقة والتقارير الفنية، على أن يستخدم الفترة التحضيرية المقبلة لاختبارهم ميدانيًا بشكل مباشر.\n\n بعض اللاعبين، خاصة الشباب أو العائدين من الإعارة، سيكونون تحت المجهر، فيما تتجه النية لمنح آخرين فرصة أخيرة لإثبات جدارتهم بالبقاء في الكامب نو.\n\n وتأتي هذه الخطوة في إطار إعادة بناء الفريق، خاصة بعد رحيل المدرب السابق تشافي هيرنانديز، حيث يسعى فليك لوضع بصمته الخاصة، والبدء من قاعدة واضحة ومحددة.\n\n يُذكر أن برشلونة سيدخل مرحلة الإعداد للموسم الجديد قريبًا، تسبقها جولة تحضيرية في الولايات المتحدة، ستكون حاسمة للعديد من الأسماء داخل غرفة الملابس.\n\n فهل تنجح "أولى غربلات فليك" في رسم ملامح برشلونة الجديد؟\n\nالأيام القادمة ستكشف من سيحجز مكانه في الخطة… ومن سيغادر بهدوء.\n', date: '2025-07-19', order: 30, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' },
            { id: 4, title: 'السعودية تستعد لصفقة جديدة... "ضربة" كبرى مرتقبة في الميركاتو!', image: 'https://c.top4top.io/p_34856jr3c3.jpg', content: 'تستعد كرة القدم السعودية لإحداث ضجة جديدة في سوق الانتقالات الصيفية، عبر صفقة توصف بأنها "ضربة قوية" تضاف إلى سلسلة التعاقدات الكبيرة التي شهدها الدوري السعودي خلال الموسمين الماضيين.\n\nووفقًا لمصادر صحفية، فإن هناك تحركات جدية خلف الكواليس تهدف إلى التعاقد مع نجم عالمي جديد، على غرار التعاقدات السابقة التي جلبت أسماء بارزة مثل كريستيانو رونالدو، كريم بنزيما، نغولو كانتي، نيمار، وآخرين.\n\n وتواصل الأندية السعودية، بدعم من برامج رياضية استراتيجية، استقطاب لاعبين ذوي قيمة فنية وتسويقية عالية، في إطار تعزيز تنافسية الدوري محليًا ودوليًا، وجذب أنظار الجماهير العالمية إليه.\n\n حتى اللحظة، لم يتم الكشف عن اسم اللاعب المستهدف، إلا أن الترقب بات كبيرًا في الأوساط الإعلامية والرياضية، وسط مؤشرات إلى أن الصفقة قد تُعلن خلال الأسابيع القليلة المقبلة.\n\n ويُتوقع أن تحمل هذه الصفقة تأثيرًا كبيرًا على خارطة كرة القدم العالمية، خصوصًا في ظل التغيرات المستمرة في أولويات اللاعبين وأجندات الأندية الكبرى.\n\n هل نشهد صفقة جديدة تفوق التوقعات؟\n', date: '2025-07-19', order: 40, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' },
            { id: 5, title: 'رودريغو يقترب من مغادرة ريال مدريد… صراع إنجليزي محتدم على توقيعه!', image: 'https://f.top4top.io/p_3485mp2zi6.jpg', content: 'أصبح النجم البرازيلي رودريغو في دائرة الضوء خلال فترة الانتقالات الصيفية الحالية، مع اهتمام قوي من أندية الدوري الإنجليزي الممتاز، وعلى رأسها أرسنال وليفربول.\n\n\nتزايدت التكهنات حول مستقبل رودريغو، خاصة بعد التغيرات التي طرأت على تشكيلة ريال مدريد عقب انضمام أسماء هجومية بارزة هذا الصيف، مما قد يفتح الباب أمام رحيله بحثًا عن دقائق لعب أكثر.\n\nأرسنال بدأ تحركاته الفعلية لاستطلاع موقف اللاعب، فيما يستعد ليفربول لتقديم عرض رسمي، خصوصًا مع احتمالية مغادرة أحد نجومه الكبار خلال الأسابيع المقبلة.\n\nمصادر مطلعة أكدت أن رودريغو لا يمانع خوض تجربة جديدة خارج إسبانيا، بشرط أن يكون المشروع الرياضي واضحًا والطموح فيه مرتفعًا.\n\nالسعر المتوقع للصفقة:\nيُقدر سعر اللاعب في السوق الحالية بأكثر من 85 مليون يورو، مما يعني أن أي صفقة محتملة ستكون من العيار الثقيل، وقد تغيّر ملامح المنافسة في الدوري الإنجليزي الموسم المقبل.\n\nرودريغو يُعد من أبرز المواهب البرازيلية في السنوات الأخيرة، وقدم مستويات مميزة في مختلف البطولات، وساهم في تتويج فريقه بعدة ألقاب محلية وقارية.\n\nمن المتوقع أن تتضح ملامح مستقبل رودريغو خلال الأيام المقبلة، في ظل ضغط الأندية المهتمة للحصول على خدماته قبل انطلاق الموسم الجديد، فهل نشاهده بقميص جديد في البريميرليغ؟', date: '2025-07-19', order: 50, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' },
            { id: 6, title: 'نجم فرنسا السابق يدافع عن مبابي: "قدّم الكثير ويستحق الاحترام"', image: 'https://h.top4top.io/p_348588x3m8.jpg', content: 'في خضم موجة الانتقادات التي طالت النجم الفرنسي كيليان مبابي بعد انتقاله إلى ريال مدريد، خرج المهاجم الدولي السابق جبريل سيسيه عن صمته ليرد على حملات السخرية التي طالت اللاعب من جماهير فريقه السابق، باريس سان جيرمان.\n\nالانتقال المثير للجدل\n\nمبابي غادر باريس سان جيرمان مجانًا خلال سوق الانتقالات الصيفي الماضي، بعد سنوات من التألق داخل أسوار حديقة الأمراء. هذه الخطوة أثارت استياء عدد من مشجعي الفريق الباريسي، خصوصًا بعد أن نجح النادي في تحقيق دوري أبطال أوروبا لأول مرة في تاريخه خلال موسم 2024-2025، تحت قيادة المدرب الإسباني لويس إنريكي.\n\nرغم الغياب... الأرقام لا تُنسى\n\nورغم أن كيليان لم يكن ضمن الفريق الفائز بالبطولة القارية، إلا أن بصمته مع باريس لا يمكن إنكارها. فقد:\n\nتُوج بلقب الدوري الفرنسي 6 مرات\n\nسجل 256 هدفًا في 308 مباريات\n\nأصبح الهداف التاريخي للنادي\n\n\nسيسيه يوجّه رسالة للجماهير\n\nفي حديثه عبر برنامج The Bridge، عبّر جبريل سيسيه عن استغرابه من الانتقادات التي تطال مبابي، مؤكدًا أن اللاعب قدم الكثير للنادي ويجب تقديره.\n\nوقال سيسيه:\n\n> "بدلاً من الاستهزاء، دعونا نحتفل بالإنجاز. مبابي لم يكن موجودًا، نعم، لكن مساهماته السابقة أوصلت باريس إلى ما هو عليه الآن. هو جزء من تطور النادي، تمامًا مثل ماركينيوس وتياجو سيلفا."\n\n\n\nوختم قائلاً:\n\n> "علينا احترام كيليان. هو جزء من تاريخ باريس سان جيرمان، سواء أحب البعض ذلك أم لا."\n', date: '2025-07-19', order: 60, detailButtonText: 'تفاصيل الخبر', detailButtonColor: '#007bff' }
        ];
        // Footer Buttons - also replicated for consistency
        const footerButtons = [
            { text: 'الرئيسية', icon: 'home', action: 'go:index.html' },
            { text: 'فئات', icon: 'category', action: 'go:https://www.google.com/search?q=فئات+الأخبار' },
            { text: 'تنبيهات', icon: 'notifications', action: 'function:showAlert:زر التنبيهات' },
            { text: 'من نحن', icon: 'info', action: 'go:about.html' },
            { text: 'بحث', icon: 'search', action: 'function:handleSearchClick' } // Changed for news-detail context
        ];
        function executeAction(actionString) {
            if (!actionString) return;
            if (actionString.startsWith('go:')) {
                const url = actionString.substring(3);
                if (url.startsWith('http://') || url.startsWith('https://')) {
                    window.open(url, '_blank');
                } else {
                    window.location.href = url;
                }
            } else if (actionString.startsWith('function:')) {
                let funcCall = actionString.substring(9);
                let funcName;
                let funcArgs = [];
                if (funcCall.includes(':')) {
                    const parts = funcCall.split(':');
                    funcName = parts[0];
                    funcArgs = parts.slice(1);
                } else {
                    funcName = funcCall;
                }
                if (typeof window[funcName] === 'function') {
                    window[funcName](...funcArgs);
                } else {
                    console.error('Function not found:', funcName);
                }
            } else {
                console.warn('Unknown action type:', actionString);
            }
        }

        function showAlert(message) {
            alert(`تم النقر على: ${message}`);
        }

        // Handle search click - on detail page, it just goes to index.html with search bar visible
        function handleSearchClick() {
            window.location.href = 'index.html?showSearch=true';
        }

        function setupFooterButtons() {
            const footerNav = document.getElementById('footerNav');
            if (!footerNav) {
                console.error('Footer navigation element not found!');
                return;
            }
            footerNav.innerHTML = '';
            footerButtons.forEach(button => {
                const btn = document.createElement('button');
                btn.innerHTML = `<i class="material-icons">${button.icon}</i><span>${button.text}</span>`; // Ensure button.text is used for display
                btn.onclick = () => executeAction(button.action);
                footerNav.appendChild(btn);
            });
        }

        // Function to parse URL parameters
        function getUrlParameter(name) {
            name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
            var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
            var results = regex.exec(location.search);
            return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
        }

        // Function to insert ad after the first dot (.) in the content
        function insertAdAfterFirstDot(fullContent) {
            // RegEx to find the first dot (.), optionally followed by one or more spaces or end of string
            const regex = /\.(?:\s*|$)/; 
            const match = fullContent.match(regex);

            let htmlContent = '';

            // Helper to format a text segment into paragraphs with <br> and clean internal spaces
            const formatSegmentToHtml = (segment) => {
                // Split into paragraphs by double newlines, filter out empty ones
                const paragraphs = segment.split('\n\n').filter(p => p.trim() !== '');
                
                // Process each paragraph: clean internal spaces, replace single newlines with <br>, wrap in <p>
                return paragraphs.map(p => {
                    // Replace multiple spaces with a single space within each line/phrase
                    // Then replace single newlines with <br>
                    return `<p class="detail-text">${p.replace(/\s\s+/g, ' ').trim().replace(/\n/g, '<br>')}</p>`;
                }).join('');
            };

            if (match) {
                // Calculate the exact split point: after the dot and any following spaces
                const splitPoint = match.index + match[0].length; 
                const firstPart = fullContent.substring(0, splitPoint);
                const secondPart = fullContent.substring(splitPoint);

                htmlContent += formatSegmentToHtml(firstPart);

                // Ad Container HTML
                htmlContent += `
                    <div class="ad-container">
                        <p>إعلان</p>
                        <ins class="adsbygoogle"
                             style="display:block; text-align:center;"
                             data-ad-layout="in-article"
                             data-ad-format="fluid"
                             data-ad-client="ca-pub-5085557676468490"
                             data-ad-slot="6549162051"></ins>
                    </div>
                `;
                // Push ad to AdSense for rendering
                (adsbygoogle = window.adsbygoogle || []).push({});

                htmlContent += formatSegmentToHtml(secondPart);
                
                return htmlContent;
            } else {
                // If no dot is found, just format the entire content as paragraphs
                return formatSegmentToHtml(fullContent);
            }
        }


        document.addEventListener('DOMContentLoaded', () => {
            const newsId = parseInt(getUrlParameter('id'));
            // Find the index of the current news item
            const newsItemIndex = newsData.findIndex(news => news.id === newsId);
            const newsItem = newsData[newsItemIndex];

            if (newsItem) {
                document.getElementById('detailNewsImage').src = newsItem.image;
                document.getElementById('detailNewsImage').alt = newsItem.title;
                document.getElementById('detailNewsTitle').textContent = newsItem.title;
                document.getElementById('detailNewsDate').textContent = `تاريخ النشر: ${newsItem.date}`;

                const newsContentWrapper = document.getElementById('newsContentWrapper');
                if (newsContentWrapper) {
                    newsContentWrapper.innerHTML = insertAdAfterFirstDot(newsItem.content);
                }

                document.title = `تفاصيل الخبر: ${newsItem.title} - برو نيوز`;

                // --- Suggested News Logic ---
                const suggestedNewsLinksContainer = document.getElementById('suggestedNewsLinks');
                const suggestedNewsContainerParent = document.querySelector('.suggested-news-container'); 
                
                if (suggestedNewsLinksContainer) {
                    suggestedNewsLinksContainer.innerHTML = ''; // Clear previous content

                    // Previous News
                    if (newsItemIndex > 0) {
                        const prevNews = newsData[newsItemIndex - 1];
                        const prevLink = document.createElement('a');
                        prevLink.href = `news-detail.html?id=${prevNews.id}`;
                        prevLink.classList.add('suggested-news-card'); // Add class for styling
                        prevLink.innerHTML = `
                            <img src="${prevNews.image}" alt="${prevNews.title}">
                            <div class="card-content">
                                <h3>${prevNews.title}</h3>
                                <div class="card-direction">
                                    <span>الخبر السابق</span>
                                    <i class="material-icons">arrow_forward</i>
                                </div>
                            </div>
                        `;
                        suggestedNewsLinksContainer.appendChild(prevLink);
                    }

                    // Next News
                    if (newsItemIndex < newsData.length - 1) {
                        const nextNews = newsData[newsItemIndex + 1];
                        const nextLink = document.createElement('a');
                        nextLink.href = `news-detail.html?id=${nextNews.id}`;
                        nextLink.classList.add('suggested-news-card'); // Add class for styling
                        nextLink.innerHTML = `
                            <img src="${nextNews.image}" alt="${nextNews.title}">
                            <div class="card-content">
                                <h3>${nextNews.title}</h3>
                                <div class="card-direction">
                                    <span>الخبر التالي</span>
                                    <i class="material-icons">arrow_back</i>
                                </div>
                            </div>
                        `;
                        suggestedNewsLinksContainer.appendChild(nextLink);
                    }

                    // If no suggestions (e.g., only one news item), hide the whole suggested news section
                    if (suggestedNewsLinksContainer.children.length === 0) {
                        if (suggestedNewsContainerParent) {
                            suggestedNewsContainerParent.style.display = 'none';
                        }
                    } else {
                        // Ensure the container is visible if there are suggestions
                        if (suggestedNewsContainerParent) {
                            suggestedNewsContainerParent.style.display = 'flex'; // Changed to flex for proper centering of cards
                        }
                    }
                }
                // --- End Suggested News Logic ---

            } else {
                // Handle case where news item is not found
                document.getElementById('detailNewsTitle').textContent = 'الخبر غير موجود';
                const newsContentWrapper = document.getElementById('newsContentWrapper');
                if (newsContentWrapper) {
                    newsContentWrapper.innerHTML = '<p class="detail-text">نعتذر، لم نتمكن من العثور على الخبر الذي تبحث عنه.</p>';
                }
                document.getElementById('detailNewsImage').style.display = 'none';
                document.getElementById('detailNewsDate').style.display = 'none';
                document.title = 'خطأ - الخبر غير موجود - برو نيوز';

                // Hide suggested news section if news not found
                const suggestedNewsContainer = document.querySelector('.suggested-news-container');
                if (suggestedNewsContainer) {
                    suggestedNewsContainer.style.display = 'none';
                }
            }
            setupFooterButtons();
        });
        // End of self-contained script content (DO NOT MODIFY THESE COMMENTS)
    </script>
</body>
</html>
